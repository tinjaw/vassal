<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <title>Map Window</title>
  <meta http-equiv="content-type" content="text/html; charset=ISO-8859-1">
</head>
<body>
<table border="0" cellpadding="2" cellspacing="2" width="100%">
  <tbody>
  <tr align="center">
  <td valign="top">
  <h1>VASSAL Reference Manual</h1>
  <small><a href="index.htm">Home</a> &gt; <a href="GameModule.htm">Module</a>
  &gt; <b>Map Window</b></small><br>
  <br>
  </td>
  </tr>
  <tr>
  <td valign="top">
  <hr size="2" width="100%">
  <h2>Map Window</h2>
  A Map Window contains the main interface for playing games with VASSAL. It displays the playing surface on which the
  players move <a href="GamePiece.htm">Game Pieces</a> by dragging and dropping with the mouse. It is possible to have
  two or more Map Windows; the players may drag and drop pieces between the different windows. A Map Window should be
  configured with at least one Map Board (in the "Map Boards" component).<br>
  <br>
  To add additional Map Windows to your module, use the Editor to navigate to the <i>[Module]</i> entry at the very top of the
  Editor's configuration window hierarchy. Right click on the <i>[Module]</i> entry and select <i>Add Map Window</i>. Your new
  Map Window will be added to the very bottom of your Module's list of components. You can then open the <i>[Map Window]</i> entry,
  where you should right click on the <i>[Map Boards]</i> subcomponent and add at least one <a href="Board.htm">Board</a>. You
  can also add additional subcomponents by right-clicking the <i>[Map Window]</i> entry and selecting one of the appropriate <i>Add</i>
  options. See <a href="#SubComponents">Sub-Components</a>, below.<br>
  <br>
  <b>SEE ALSO:</b>&nbsp; <a href="PlayerHand.htm">Player Hands</a> and <a href="PrivateWindow.htm">Private Windows</a> are specialized forms of Map Window and
  share most of its properties and subcomponents. They are designed for holding pieces and cards that are private to one player or side.<br>
  <br>

  <table style="width: 100%; text-align: left;" border="0" cellpadding="2" cellspacing="2">
    <tbody>
    <tr>

    <td style="vertical-align: top;">
    <b>Map Name:</b>&nbsp; The name of this map window.<br>
    <br><a name="MarkUnmoved"></a>
    <b>Mark pieces that move:</b>&nbsp; If checked, then any pieces with the <a href="MarkMoved.htm">Mark When Moved</a>
    trait will be marked whenever being moved in this map window.&nbsp; The module designer can also allow players to
    control this option in their preferences.<br>
    <br>
    <b>"Mark unmoved" button:</b>&nbsp; Configuring <i>button text</i> and/or a <i>button icon</i> causes a button to
    appear on the map window's Toolbar; clicking this button clears the movement history for all Game Pieces on the map:
    this removes the movement "mark" from any such Game Pieces, and also clears their Movement Trails if they also
    contain a <a href="MovementTrail.htm">Movement Trails</a> trait. Tooltip text can also be configured for this
    button. <br>
    <br>
    <b>Vertical/Horizontal padding:</b>&nbsp; The amount of blank space surrounding the boards in the window.<br>
    <br>
    <b>Background color:</b>&nbsp; The color to use in the blank space padding.<br>
    <br>
    <b>Can Contain Multiple Boards:</b>&nbsp; If checked, this map window can contain several boards arranged into rows
    and columns.<br>
    <br>
    <b>Border color for selected counters:</b>&nbsp; The color of the border to draw around pieces that have been
    selected.<br>
    <br>
    <b>Border thickness for selected counters:</b>&nbsp; The thickness of the border to draw around pieces that have
    been selected.<br>
    <br>
    <b>Include toolbar button to show/hide:</b>&nbsp; If checked, then this map window will not be automatically shown
    when a game begins. Instead, a button to show/hide this window will be added to the main module Toolbar. <b>NOTE:
    </b> changing this option will not take effect until the module has been reloaded (exit from the Module Editor
    and restart it).<br>
    <br>
    <b>Button text:</b>&nbsp; The name of the show/hide Toolbar button<br>
    <br>
    <b>Tooltip text:</b>&nbsp; Optional tooltip text for the show/hide Toolbar button<br>
    <br>
    <b>Button icon:</b>&nbsp; An icon for the show/hide Toolbar button<br>
    <br>
    <b>Hotkey:</b>&nbsp; The hotkey (or <a href="NamedKeyCommand.htm">Named Key Command</a>) for the show/hide Toolbar
    button<br>
    <br>
    <b>Auto-report format for movement within this map:</b>&nbsp; A <a href="MessageFormat.htm">Message Format</a> that
    will be used to automatically report movement of pieces completely within this map window:f <i>$pieceName$</i>
    is the name of the piece being moved, <i>$location$</i> is the location to which the piece is being moved (in
    the format specified below), <i>$previousLocation$</i> is the location from which the piece is being moved. <b>NOTE:
    </b> These reports are separate from, and in addition to, any reports the piece itself generates with <a
      href="ReportChanges.htm">Report Action</a> traits in response to the Key Command applied by the bottom field. <br>
    <br>
    <b>Auto-report format for movement to this map:</b>&nbsp; A <a href="MessageFormat.htm">Message Format</a> that will
    be used to report movement of pieces to this map window from another map window: In addition to the properties
    noted for the above item, <i>$previousMap$</i> is the name of the map from which the piece is being moved.<br>
    <br>
    <b>Auto-report format for units created in this map:</b>&nbsp; A <a href="MessageFormat.htm">Message Format</a> that
    will be used to report pieces that are dragged to this map window directly from a <a href="PieceWindow.htm">Game
    Piece Palette</a>: The properties mentioned in the previous two items may be referenced as appropriate.
    <br>
    <br>
    <b>Auto-report format for units modified on this map:</b>&nbsp; When a <a href="ReportChanges.htm">Report Action</a>
    trait of a Game Piece on this map is activated, this <a href="MessageFormat.htm">Message Format</a> will be used to
    format the message that trait requests to display. <i>$message$</i> is the text message from the Report Action
    trait. It could optionally be modified to include e.g. the name of this Map.<br>
    <br>
    <b>Key Command to apply to all units ending movement on this map:</b>&nbsp; The Key Command or <a
      href="NamedKeyCommand.htm">Named Key Command</a>
    to be automatically applied to each piece that ends movement on this map, whether it is moved by drag-and-drop or by
    a <a href="SendToLocation.htm">Send To Location</a> trait. This Key Command can be used, for example, to trigger
    actions that need to be taken when a piece enters or leaves a new space (for example maintaining piece type counts
    in a Zone -- see Example 4 in the <a href="TriggerAction.htm">Trigger Action</a> trait), or to generate more
    elaborate <a href="ReportChanges.htm">Report Action</a> chat log messages than can be created with the Auto-report
    format (for example, ensuring that the message is only displayed if the piece has actually changed regions rather
    than merely being adjusted in its space).
    </td>
    <td style="vertical-align: top;">
    <img src="images/Map.png" alt="" title=""><br>
    <br>
    <img src="images/Map2.png">
    </td>
    </tr>
  </table>
  <br>

  <hr size="2" width="100%">
  <h2><a name="SubComponents">Sub-Components</a></h2>
  Map are created with several default sub-components, but new ones can be added. To add sub-components to a map, navigate to the <i>[Map Window]</i> component
  entry in the Editor, right click on the <i>[Map Window]</i> component, and select the appropriate <i>Add</i> option for the sub-component you would like to add.
  Once you configure it, your new sub-component will appear at the bottom of the Map's list of sub-components.<br>
  <br>

  <table style="text-align: center; width: 100%; line-height:150%;" border="0" cellpadding="2" cellspacing="2">
    <tr>
  <td><a href="#SelectionHighlighter">Additional Selection Highlighters</a></td>
  <td><a href="SetupStack.htm">At-Start Stack</a></td>
  <td><a href="Deck.htm">Deck</a></td>
  <td><a href="#HidePieces">Hide Pieces Button</a></td>
    </tr>
    <tr>
  <td><a href="GamePieceLayers.htm">Game Piece Layers</a></td>
  <td><a href="#GlobalKeyCommand">Global Key Command</a></td>
  <td><a href="GlobalProperties.htm">Global Properties</a></td>
  <td><a href="#ImageCapture">Image Capture Tool</a></td>
    </tr>
    <tr>
  <td><a href="#LastMoveHighlighter">Last Move Highlighter</a></td>
  <td><a href="#LOS">Line of Sight Thread</a></td>
  <td><a href="#MapBoards">Map Boards</a></td>
  <td><a href="#MapShading">Map Shading</a></td>
    </tr>
    <tr>
  <td><a href="#StackViewer">Mouse-over Stack Viewer</a></td>
  <td><a href="#OverviewWindow">Overview Window</a></td>
  <td><a href="#PieceRecenterer">Recenter Pieces Button</a></td>
  <td><a href="#StackingOptions">Stacking Options</a></td>
    </tr>
    <tr>
  <td><a href="#StartupGlobalKeyCommand">Startup Global Key Command</a></td>
  <td><a href="#TextCapture">Text Capture Tool</a></td>
  <td><a href="ToolbarMenu.htm">Toolbar Menu</a></td>
  <td><a href="#Zoom">Zoom Capability</a></td>
    </tr>
  </table>
  <br>

  <hr size="2" width="100%">

  <h3><a name="MapBoards">Map Boards</a></h3>
  <table style="width: 100%; text-align: left;" border="0" cellpadding="2" cellspacing="2">
    <tbody>
    <tr>
    <td style="vertical-align: top;">This component contains all the boards that may appear in this map window. It
    contains <a href="Board.htm">Board</a>
    components and defines the dialog that is used to select boards when a new game is started.<br>
    <br>
    <b>Dialog Title:&nbsp;</b>The title of the dialog window for choosing boards on this map.<br>
    <br>
    <b>"Select Boards" prompt:</b>&nbsp; The prompt message in the drop-down menu for selecting boards<br>
    <br>
    <b>Cell scale factor:</b>&nbsp; The relative size of the boards in the dialog compared to their final size during
    play.<br>
    <br>
    <b>Cell width:</b>&nbsp; The width of a cell when no board has been selected.<br>
    <br>
    <b>Cell height:</b>&nbsp; The height of a cell when no board has been selected.<br>
    <br>
    <b>Default Board Setup:&nbsp;</b> Click this button to choose a default set of boards.&nbsp; When a default has been
    set, the dialog will not be shown to players when a new game is begun.&nbsp; Instead, the game will always be
    started with the boards you select.&nbsp; If you click this button and then clear the boards, then dialog will again
    be shown at the start of each game.</td>
    <td style="vertical-align: top;"><img alt="" src="images/BoardPicker.png"></td>
    </tr>
    </tbody>
  </table>

  <br>
  <a name="StackingOptions">
  <h3>Stacking Options</h3>
  </a> 
  <br>
  This component controls how stacking is handled in this Map Window. &nbsp;It may not be removed.<br>
  <br>
  <table style="width: 100%; text-align: left;" border="0" cellpadding="6" cellspacing="2">
    <tbody>
    <tr>
    <td style="vertical-align: top;"><img src="images/StackingOptions.png" alt=""><br>
    </td>
    <td style="vertical-align: top;">
    <b>Disable stacking:</b>&nbsp; If checked, then pieces will never form stacks in this window<br>
    <br>
    <b>Horizontal Separation when expanded:</b>&nbsp; The distance in pixels from the left edge (right edge if negative)
    of a piece in a stack to the edge of the piece above it when the stack is expanded.<br>
    <br>
    <b>Vertical Separation when expanded:</b> &nbsp;The distance in pixels from the bottom edge (top edge if negative)
    of a piece in a stack to the edge of the piece above it when the stack is expanded.<br>
    <br>
    <b>Horizontal Separation when not expanded:</b>&nbsp; The distance in pixels from the left edge (right edge if
    negative) of a piece in a stack to the edge of the piece above it when the stack is compact.<br>
    <br>
    <b>Vertical Separation when not expanded:</b> &nbsp;The distance in pixels from the bottom edge (top edge if
    negative) of a piece in a stack to the edge of the piece above it when the stack is compact.<br>
    <br>
    <b>Color of pieces when not expanded:</b>&nbsp; If set, then pieces below the top piece in a compact stack will be
    drawn as plain squares of this color and a black border. &nbsp;If not set (click the "Select" button and cancel the
    color-selection dialog to "unset" this) then pieces will be drawn normally.<br>
    </td>
    </tr>
    </tbody>
  </table>
  <br>
  <br>
  <a name="OverviewWindow">
  <h3>Overview Window, or "Mini Map"</h3>
  </a>
  <br>
  <table border="0" cellpadding="2" cellspacing="2" width="100%">
    <tbody>
    <tr>


    <td valign="top">Adds a separate "Mini Map" subwindow that will be displayed whenever the Map Window is
    displayed.&nbsp; A Toolbar button to turn this subwindow on and off will be placed on the Map Window's toolbar - it
    can be configured with any combination button text, a button icon, and tooltip text. A hotkey or <a
      href="NamedKeyCommand.htm">Named Key Command</a> can also be supplied to open the mini map subwindow.
    <br>
    <br>
    The subwindow will contain a view of the entire playing area at a smaller scale than displayed in the parent map
    window.&nbsp; The area of the map currently visible in the map window is highlighted in the overview map with a
    colored rectangle.&nbsp; A player may click on the Overview window to center the Map Window at the point clicked on.
    <br>
    <br>
    The scale of the overview window relative to the map window can be specified in the "Scale Factor" property.&nbsp;
    You may also specify the color of the rectangle indicating the area visible in the main Map Window.<br>
    <br>
    </td>
    <td valign="top"><img src="images/OverviewWindow.png" alt=""></td>
    </tr>
    <tr>
    </tr>

    </tbody>
  </table>
  <br>
  <br>
  <a name="LOS">
  <h3>Line of Sight Thread</h3>
  </a>
  <table border="0" cellpadding="2" cellspacing="6" width="100%">
    <tbody>
    <tr>

    <td valign="top"><img src="images/LOS_Thread.png" alt=""><br>
    &nbsp; <br>
    </td>


    <td valign="top">Adds a button to the Toolbar of the Map Window.&nbsp; Clicking the button will allow the player to
    drag the mouse between any two points in the window, drawing a line between those two points. <br>
    <br>
    <b>Hotkey: &nbsp;</b>Specifies a keyboard shortcut or <a href="NamedKeyCommand.htm">Named Key Command</a> for the
    Toolbar button.<br>
    <br>
    <b>Button text:</b>&nbsp; The label on the Button in the Map Window's Toolbar<br>
    <br>
    <b>Draw Range:</b>&nbsp; If checked, draws the range between the two points, in hexes or squares, as appropriate for
    the board in use.<br>
    <br>
    <b>Pixels per range unit:</b>&nbsp; If drawing the range on a board without a grid, this determines how many pixels
    on the screen equal a single unit of range.<br>
    <br>
    <b>Round fractions:&nbsp;</b>For distances that are a fraction of a range unit, specify whether to round fractions
    up, down, or to the nearest whole number.<br>
    <br>
    <b>Hide Pieces while drawing:</b>&nbsp; If checked, then all game pieces in the map will be hidden (or transparent)
    while the thread is being drawn.<br>
    <br>
    <b>Opacity of hidden pieces:</b>&nbsp; Set the transparency of game pieces while the thread is being drawn. 0 is
    completely transparent, 100 is completely opaque.<br>
    <br>
    <b>Thread color:</b>&nbsp; Specifies the color the thread on the screen. &nbsp;If set to null (by clicking the
    "Select" button and then the "Cancel" button in the color-choosing dialog), then a Preferences option will determine
    the color of the thread at game time.<br>
    <br>
    </td>
    </tr>

    </tbody>
  </table>

  <h3><a href="ToolbarMenu.htm">Toolbar Menu</a></h3>
  <table border="0" cellpadding="2" cellspacing="2" width="75%">
    <tbody>
    <tr>

    <td valign="top">
    Groups buttons in the toolbar into a single drop-down menu. See <a href="ToolbarMenu.htm">full article</a> for
    details.<br>
    <br>
    <br>
    <img src="images/ToolbarMenuExample.png">
    </td>
    <td valign="top"><img src="images/ToolbarMenu.png" alt=""><br>
    &nbsp; <br>
    </td>
    </tr>
    </tbody>
  </table>

  <a name="HidePieces">
  <h3>Hide Pieces Button</h3>
  </a>
  <br>
  Adds a button to the Toolbar of the Map Window.&nbsp; Clicking the button will temporarily hide all pieces on the map,
  until the button is clicked again.<br>
  <br>
  <table border="0" cellpadding="2" cellspacing="2" width="100%">
    <tbody>
    <tr>
    <td valign="top"><img src="images/HidePieces.png" alt="" title=""><br>
    &nbsp; <br>
    </td>
    <td valign="top">
    <b>Button text: &nbsp;</b>Specifies the button text for the Toolbar button</b><br>
    <br>
    <b>Tooltip text: &nbsp;</b>Specifies optional tooltip text for the Toolbar button</b><br>
    <br>
    <b>Hotkey: &nbsp;</b>Specifies a keyboard shortcut for the Toolbar button</b><br>
    <br>
    <b>Icon when pieces are showing:</b>&nbsp; Configures an icon which is shown when pieces on the map are currently
    visible.</b><br>
    <br>
    <b>Icon when pieces are hidden:</b>&nbsp; Configures an icon which is shown when pieces on the map have currently
    been hidden by this button.</b><br>
    <br>
    </td>
    </tr>

    </tbody>
  </table>
  <a name="Zoom">
  <h3>Zoom capability</h3>
  </a>
  <br>
  Adds the ability to zoom in and out of the Map. Toolbar buttons for "Zoom in", "Zoom out", and "Select Zoom Level" are
  added to the Map Window's toolbar.
  <br>
  <table border="0" cellpadding="2" cellspacing="2" width="100%">
    <tbody>
    <tr>
    <td valign="top">
    <b>Preset Zoom Levels:</b>&nbsp; Configures a series of fractional scale factors for display of the Map Window. In
    the list on the right hand side, all of the currently configured scale factors are listed. The one with an asterisk
    (*) indicates the scale factor at which the Map Window will begin when the module is started. The other scale
    factors represent the settings along a range which clicking the "Zoom in" and "Zoom out" buttons will move the zoom
    level.<br>
    &nbsp;&nbsp;<b>Add:</b>&nbsp; To add a new scale factor, type it into the blank and then click the "Add" button. The
    new scale factor will appear in the list to the right.<br>
    &nbsp;&nbsp;<b>Remove:</b>&nbsp; To remove an unwanted scale factor from the list, select it in the list at right
    and then click the "Remove" button.<br>
    &nbsp;&nbsp;<b>Set Initial:</b>&nbsp; To select the scale factor at which the Map Window will begin when the module
    is started, select it from the list at right and click the "Set Initial" button. An asterisk (*) will appear next to
    the new at-start scale factor.<br>
    <br>
    <b>Zoom In:</b>&nbsp; Configures a Toolbar button and/or hotkey that cause the Map Window scale factor to jump to
    the next higher magnification level.<br>
    &nbsp;&nbsp;<b>Tooltip Text:</b>&nbsp; Configures optional tooltip text for the Toolbar button.<br>
    &nbsp;&nbsp;<b>Button Text:</b>&nbsp; Configures button text for the Toolbar button.<br>
    &nbsp;&nbsp;<b>Button Icon:</b>&nbsp; Configures an icon for the Toolbar button.<br>
    &nbsp;&nbsp;<b>Hotkey:</b>&nbsp; Designates a keyboard shortcut or <a href="NamedKeyCommand.htm">Named Key Command
    </a> for zooming in.<br>
    <br>
    <b>Zoom Select:</b>&nbsp; Configures a Toolbar button and/or hotkey that will allow the player to pick a specific
    scale factor, including by typing in an arbitrary scale factor manually.<br>
    &nbsp;&nbsp;<b>Tooltip Text:</b>&nbsp; Configures optional tooltip text for the Toolbar button.<br>
    &nbsp;&nbsp;<b>Button Text:</b>&nbsp; Configures button text for the Toolbar button.<br>
    &nbsp;&nbsp;<b>Button Icon:</b>&nbsp; Configures an icon for the Toolbar button.<br>
    &nbsp;&nbsp;<b>Hotkey:</b>&nbsp; Designates a keyboard shortcut or <a href="NamedKeyCommand.htm">Named Key Command
    </a> for selecting the zoom level.<br>
    <br>
    <b>Zoom Out:</b>&nbsp; Configures a Toolbar button and/or hotkey that cause the Map Window scale factor to jump to
    the next smaller magnification level.<br>
    &nbsp;&nbsp;<b>Tooltip Text:</b>&nbsp; Configures optional tooltip text for the Toolbar button.<br>
    &nbsp;&nbsp;<b>Button Text:</b>&nbsp; Configures button text for the Toolbar button.<br>
    &nbsp;&nbsp;<b>Button Icon:</b>&nbsp; Configures an icon for the Toolbar button.<br>
    &nbsp;&nbsp;<b>Hotkey:</b>&nbsp; Designates a keyboard shortcut or <a href="NamedKeyCommand.htm">Named Key Command
    </a> for zooming out.<br>
    <br>
    </td>
    <td valign="top"><img src="images/Zoomer.png" alt="" title=""><br>
    </td>
    </tr>

    </tbody>
  </table>
  <br>
  <a name="StackViewer">
  <h3>Mouse-over Stack Viewer</h3>
  </a><br>
  Adds a tool that displays the contents of a stack when the player leaves the mouse resting over it, after a specified
  delay. <br>
  <br>
  <table style="text-align: left; width: 100%;" border="0" cellpadding="2" cellspacing="6">
    <tbody>
    <tr>
    <td style="vertical-align: top;"><img src="images/CounterDetailViewer.png" title="" alt=""><br>
    </td>
    <td style="vertical-align: top;">
    <b>Recommended Delay before display:</b>&nbsp; When the mouse has been stationary for this many milliseconds, the
    viewer will appear.&nbsp; This can be overridden in the preferences.<br>
    <br>
    <b>Keyboard shortcut to display:</b>&nbsp; Players may display the viewer without waiting by pressing this shortcut
    key.&nbsp; This can be disabled in the preferences.<br>
    <br>
    <b>Background color:</b>&nbsp; Pieces/text are drawn against a background of this color.<br>
    <br>
    <b>Border/text color:</b>&nbsp; Color of any text drawn and the border around the overall viewer.<br>
    <br>
    <b>Display when at least this many pieces will be included:</b>&nbsp; If set to 0, then the viewer will display even
    if the location is empty.&nbsp; Otherwise, it will display only if 1 or 2 pieces have been included via the settings
    below.<br>
    <br>
    <b>Always display when zoom level is less than:</b>&nbsp; Regardless of the above "at least this many" setting, the
    viewer will also display when the map's magnification factor is less than this number.<br>
    <br>
    <b>Draw pieces:</b>&nbsp; If selected, then the included pieces will be draw in the viewer.<br>
    <br>
    <b>Draw pieces using zoom factor:</b>&nbsp; The magnification factor to use to draw the pieces in the viewer.<br>
    <br>
    <b>Width of gap between pieces:</b>&nbsp; Empty space in pixels to place between each drawn piece.<br>
    <br>
    <b>Display text:</b>&nbsp; If selected, then the viewer will draw some summary text and some individualized text for
    each piece.<br>
    <br>
    <b>Font size:&nbsp;</b>
    Fort size for the text drawn by the stack viewer.<br>
    <br>
    <b>Summary text above pieces:</b>&nbsp; A <a href="MessageFormat.htm">Message Format</a> specifying the text to
    display above the drawn pieces in the viewer.&nbsp; In addition to standard <a href="Properties.htm">Properties</a>,
    you can include a property with the name <i>
    sum(propertyName)</i>
    where <i>propertyName</i> is a property defined on a Game Piece.&nbsp; The numeric values of this property for all
    included pieces will be substituted.<br>
    <br>
    <b>Text below each piece:</b>&nbsp; A <a href="MessageFormat.htm">Message Format
    </a> specifying the text to display below each included piece.<br>
    <br>
    <b>Text for empty location</b>:&nbsp; A <a href="MessageFormat.htm">Message Format
    </a> specifying the text to display when no pieces have been selected. <br>
    <br>
    <b>Include individual pieces:</b>&nbsp; Specifies how pieces are to be selected for inclusion in the viewer.&nbsp;
    You may restrict the pieces according to the <a href="GamePieceLayers.htm">Game Piece Layer</a> that they
    belong.&nbsp; Alternatively, you may specify an <a href="PropertyMatchExpression.htm">Property Match Expression</a>
    to match desired values of one or more <a href="Properties.htm">Properties</a> in order for a piece to be included.
    <br>
    <br>
    <b>Include non-stacking pieces:</b>&nbsp; If selected, then pieces with a <a href="NonStacking.htm">Does not stack
    </a> trait are eligible for inclusion in the viewer. Otherwise they are excluded regardless of any other filters.
    <br>
    <br>
    <b>Show pieces in unrotated state:</b>&nbsp; If selected, then pieces that can rotate are drawn in the viewer as
    they look when not rotated.<br>
    <br>
    <b>Include top piece in Deck:&nbsp;</b> If selected, then the top piece of a <a href="Deck.htm">Deck</a> is eligible
    for inclusion.
    <br>
    <b>Show all pieces overlapping the first piece found:&nbsp;</b> If selected, then all Game Pieces that overlap the
    mouse cursor location are eligible to be displayed; otherwise only pieces at the <i>exact</i> X,Y position of the 
    <i>top</i> piece found are displayed.
    </td>

    </tr>
    </tbody>
  </table>
  <br>
  <a name="LastMoveHighlighter">
  <h3>Last Move Highlighter</h3>
  </a>
  <table style="text-align: left; width: 100%;" border="0" cellpadding="2" cellspacing="2">
    <tbody>
    <tr>
    <td style="vertical-align: top;">Draws a colored border around the last piece to have been moved, added, or deleted
    in a logfile or by an opponent during live play. <b>Color</b> is the color of the border and
    <b>Thickness</b> is the border thickness. The highlight is cleared by clicking on the map.</td>
    <td style="vertical-align: top;"><img src="images/LastMoveHighlighter.png" title="" alt=""><br>
    </td>
    </tr>

    </tbody>
  </table>
  <a href="GamePieceLayers.htm"><br>
  </a>
  <h3><a href="GamePieceLayers.htm">Game Piece Layers<br>
  </a></h3>
  <table border="0" cellpadding="2" cellspacing="6" width="60%">
    <tbody>
    <tr>
    <td valign="top">
    <img src="images/GamePieceLayers.png" alt=""><br>
    </td>
    <td valign="top">
    Allows you designate certain "layers" of Game Pieces to be drawn before others.&nbsp; Pieces in higher layers are
    always drawn on top of lower layers, and pieces never combine into stacks with pieces from other layers.<br>
    <br>
    See full <a href="GamePieceLayers.htm">Game Piece Layers</a> article for details.
    </td>
    </tr>
    </tbody>
  </table>

  <br>
  <a name="ImageCapture">
  <h3>Image Capture Tool</h3>
  </a>
  <table border="0" cellpadding="2" cellspacing="2" width="100%">
    <tbody>
    <tr>
    <td valign="top">Adds a "Camera" button to the Toolbar of the Map Window. &nbsp;Clicking the button will dump the
    contents of the Map Window to an image file. &nbsp;This allows you to take a screen shot even if the Map Window is
    too large to fit entirely on the screen. <br>
    </td>
    <td valign="top"><img src="images/ImageCapture.png" alt=""><br>
    </td>
    </tr>
    </tbody>
  </table>

  <a name="TextCapture">
  <h3>Text Capture Tool</h3>
  </a>
  <table border="0" cellpadding="2" cellspacing="6" width="60%">
    <tbody>
    <tr>
    <td valign="top"><img src="images/TextCaptureTool.png" alt=""><br>
    </td>
    <td valign="top">
    Adds a "Save Text" Button to the Map Window's Toolbar.&nbsp; Clicking the button will write a plain text summary of
    the contents of the map to a text file, using the names assigned to the pieces and the appropriate numbering and/or
    naming of the board's grid.<br>

    <br>
    </td>
    </tr>
    </tbody>
  </table>

  <h3><a href="Deck.htm">Deck</a></h3>
  <table border="0" cellpadding="2" cellspacing="2" width="75%">
    <tbody>
    <tr>
    <td valign="top">
    A deck of cards, a bag of chits, or a fixed supply of counters. <br><br>
    Decks are versatile containers for collections of pieces -- especially the kind that need to be shuffled,
    randomized, hidden, and drawn from. <br><br>
    See <a href="Deck.htm">full article</a> for details.
    </td>
    <td valign="top">
    <img src="images/DeckShort.png" alt=""><br>
    </td>
    </tr>
    </tbody>
  </table>

  <h3><a href="SetupStack.htm">At-Start Stack</a></h3>
  <table border="0" cellpadding="2" cellspacing="6" width="50%">
    <tbody>
    <tr>
    <td valign="top"><img src="images/AtStartStack.png" alt=""><br>
    </td>
    <td valign="top">
    A group of one or more pieces which begin the game on the map. <br><br>
    See <a href="SetupStack.htm">full article</a> for more details.<br>
    </td>
    </tr>
    </tbody>
  </table>


  <br>
  <br>
  <a name="PieceRecenterer">
  <h3>Recenter Pieces Button</h3>
  </a></td>
  </tr>

  </tbody>
</table>
<table border="0" cellpadding="2" cellspacing="2" width="75%">
  <tbody>
  <tr>
  <td valign="top">Adds a button to the map window's Toolbar.&nbsp; Clicking the button will shift the position of all
  pieces on the map such that they are centered around the middle of the map as much as possible.&nbsp; This is useful
  for games where there are no absolute terrain features, such as some air and naval games.</td>
  <td valign="top"><img src="images/PieceRecenterer.png" alt="" title=""><br>
  </td>
  </tr>
  <tr>
  </tr>

  </tbody>
</table>
<a name="StartupGlobalKeyCommand">
<h3>Startup Global Key Command</h3>
</a>
<br>
Can print a welcome message, or perform some other task that needs to be done whenever the module is started up.
<br><br>
<table border="0" cellpadding="2" cellspacing="6" width="100%">
  <tbody>
  <tr>
  <td valign="top"><img alt="" src="images/StartupGlobalKeyCommand.png">&nbsp;<br>
  </td>
  <td valign="top">An extension of <a href="#GlobalKeyCommand">Global Key Command</a>
  that fires automatically upon completion of module load, once all the key listeners are started up. All fields behave
  identically to the corresponding ones in <a href="#GlobalKeyCommand">Global Key Command</a>, except that those
  pertaining to the physical representation of a Toolbar button are suppressed as being inapplicable.
  <p>
  If multiple start-up commands need to be run in a particular order, they should be combined in a 
  <a href="MultiActionButton.htm">MultiAction Button</a> and then launched from a single instance of Startup Global Key
  Command, as the sequence in which multiple instances of StartupGlobalKeyCommand are fired is undetermined.</p>
  <p>
  <b>NOTE:</b>&nbsp; Startup Global Key Commands fire <i>every</i> time the module starts up, whether it is to begin a
  new game or to load and continue an existing one. Thus if you need the Startup GKC to initiate an activity that should
  only be done once at the very <i>beginning</i> of a game, then it would need to send a key command to a pre-designated
  piece, which could then check a Global Property (called, perhaps, "StartupDone") to determine whether the game had
  already been started -- if it hadn't, the piece could then perform those tasks and set "StartupDone" to true, which
  would prevent the actions from being taken on a subsequent load of a saved game.
  </p>
  </td>
  </tr>
  </tbody>
</table>
<a name="GlobalKeyCommand">
<h3>Global Key Command</h3>
</a>
<table border="0" cellpadding="2" cellspacing="2" width="100%">
  <tbody>
  <tr>
  <td valign="top">Adds a button to the map window's Toolbar.&nbsp; Clicking the button will pick certain pieces from
  the map window and apply the same key command to all of them.<br>
  <br>
  <b>Description:</b>&nbsp; A description of the action, used for the button's mouse-over tooltip.<br>
  <br>
  <b>Key Command:</b> The key command or <a href="NamedKeyCommand.htm">Named Key Command</a> that will be applied to the
  selected pieces.<br>
  <br>
  <b>Matching properties:</b>&nbsp; The command will apply to all pieces on the map that match the given <a
    href="PropertyMatchExpression.htm">Property Match Expression</a>. The Expression can use comparisons to match
  relevant <a href="Properties.htm">Properties</a> of the pieces on the map to determine which ones should receive the
  key command, such as <i>{ LocationName != "Rome" }</i> or <i>{ ArmorValue 
  < Hits + 5 }></i>. An empty expression field matches every piece it finds.<br>
  <br>
  <b>Apply to counters on this map only?:</b>&nbsp; If checked, then only pieces on this map will be eligible to receive
  the key command. Otherwise all pieces in the game will be eligible provide they match the expression above.<br>
  <br>
  <b>Within a Deck, apply to:</b>&nbsp; Select how this command applies to pieces that are currently stacked in a <a
    href="Deck.htm">Deck</a>. <br>
  &nbsp;&nbsp;<i>No pieces</i> means that pieces in a Deck ignore the command. <br>
  &nbsp;&nbsp;<i>All pieces</i> means that the command can apply to any piece in the entire Deck that matches the
  expression. <br>
  &nbsp;&nbsp;<i>Fixed number of pieces</i> allows you to specify the number of&nbsp;pieces (drawn from the top) that
  the command will potentially apply to--the piece(s) in question must still match the expression in order to be
  included.<br>
  <br>
  <b>Button text:</b>&nbsp; Text for the Toolbar button.<br>
  <br>
  <b>Tooltip text:</b>&nbsp; Mouse-over hint text for the Toolbar button.<br>
  <br>
  <b>Button icon:</b>&nbsp; Icon for the Toolbar button.<br>
  <br>
  <b>Hotkey:&nbsp;</b>Keyboard shortcut or <a href="NamedKeyCommand.htm">Named Key Command</a> for the Toolbar button.
  This is the key command that will <i>initiate</i> the Global Key Command, not the one that will be sent to the
  matching pieces -- the command to be sent is the one defined in the "Key Command: " field up above. <br>
  <br>
  <b>Suppress individual reports:</b>&nbsp; If selected, then any auto-reporting of the action by individual pieces via 
  <a href="ReportChanges.htm">Report Action</a> traits will be suppressed.<br>
  <br>
  <b>Report Format:</b>&nbsp; A <a href="MessageFormat.htm">Message Format</a> that will be echoed to the chat area when
  the button is clicked or the hotkey pressed.<br>
  <br>
  <b>Example:</b> Suppose you have configured some pieces to contain a Layer indicating that a piece has fired,
  activated by Ctrl+F and with the name<i>Fired</i>.&nbsp; Give each piece the <a href="PropertyMarker.htm">Marker</a>
  trait with property name <i>canFire</i> and value <i>true</i>.&nbsp; Configure the Global Key Command to apply to
  pieces whose properties match <i>{ canFire == "true" &amp;&amp; Fired_Active == "true" }</i>. Specify CTRL-F as the
  key command.&nbsp; Now clicking the Global Key Command's button will set all marked pieces on the map to not having
  fired.<br>
  </td>
  <td valign="top"><img alt="" src="images/GlobalKeyCommand.png">&nbsp;<br>
  </td>
  </tr>
  <tr>
  </tr>
  </tbody>
</table>
<a name="MapShading">
<h3>Map Shading</h3>
</a>
<br>
Applies a semi-transparent solid color or image tiling to the Map.&nbsp; In background mode, can be used to overlay a
repeating image over solid-color boards.&nbsp; In foreground mode, the area is determined by the pieces on the map that
name this Map Shading in an <a href="AreaOfEffect.htm">Area of Effect</a> trait.<br><br>
<table border="0" cellpadding="2" cellspacing="2" width="100%">
  <tbody>
  <tr>
  <td valign="top"><img alt="" src="images/MapShading.png">&nbsp;<br>
  </td>
  <td valign="top">
  <b>Name:</b>&nbsp; A short name of this shading for reference by pieces with the <a href="AreaOfEffect.htm">Area of
  Effect</a> trait.<br>
  <br>
  <b>Shading Always On:</b>&nbsp; If selected then the shading is always drawn.&nbsp; Otherwise, visibility is
  controlled by a button on the Toolbar.<br>
  <br>
  <b>Shading Starts turned on:</b>&nbsp; If true, then the shading will begin visible when the module is loaded.<br>
  <br>
  <b>Button text:</b>&nbsp; Text for the Toolbar button.<br>
  <br>
  <b>Tooltip text:</b>&nbsp; Optional rollover text for the Toolbar button.<br>
  <br>
  <b>Button icon:</b>&nbsp; Icon for the Toolbar button.<br>
  <br>
  <b>Hotkey:&nbsp;</b>Keyboard shortcut or <a href="NamedKeyCommand.htm">Named Key Command</a> for the Toolbar button.
  <br>
  <br>
  <b>All boards in map get Shaded:</b>&nbsp; Allows you to select which <a href="Board.htm">Boards</a> in the map to
  apply the shading to.<br>
  <br>
  <b>Type:</b>&nbsp; If set to <i>Background</i> then the shaded area includes the entire board, minus the areas
  attached to any <a href="AreaOfEffect.htm">Area of Effect
  </a> traits.&nbsp; If set to Foreground, then the shaded area includes only the areas attached to 
  <a href="AreaOfEffect.htm">Area of Effect</a> traits.<br>
  <br>
  <b>Draw Shade on top of Counters:&nbsp;</b>If selected, then the shading will be drawn over any pieces on the
  map.&nbsp; Otherwise, it will be drawn underneath all pieces.<br>
  <br>
  <b>Shade Pattern:&nbsp;</b> Choose between 100/75/50/25 % hatch patterns, or choose a custom image.<br>
  <br>
  <b>Color:&nbsp;</b> The color of the shading (if not using a custom image).<br>
  <br>
  <b>Opacity:&nbsp;</b> The opacity of the shading.&nbsp; 0 is completely transparent, 100 is completely opaque.<br>
  <br>
  <b>Border:&nbsp;</b> If selected, will draw a border around the shading area.&nbsp; You can specify the thickness,
  color, and opacity of the border.<br>
  <br>
  </td>
  </tr>
  </tbody>
</table>
<br>
<h3><a href="GlobalProperties.htm">Global Properties</a></h3>
Maps can have their own Global Properties, which apply to and are accessible by pieces on that map.<br>
<table border="0" cellpadding="2" cellspacing="2" width="100%">
  <tbody>
  <tr>
  <td valign="top">
  <img src="images/ChangeGlobalProperty.png">
  </td>
  <td valign="top">
  <img src="images/MapGlobalProperties.png" alt=""><br><br>
  To add a Global Property to your map, find the <i>[Global Properties]</i> subcomponent in the Editor, right-click it,
  and select <i>Add Global Property</i>. This will let you define the initial value and any numeric constraints. Then,
  you can right-click on the <i>[Global Property]</i> entry to optionally <i>Add Change-property Toolbar Button</i>, the
  configuration dialog for which is shown at left.
  <br><br>
  See the article on the <a href="GlobalProperties.htm">Global Property trait</a> of pieces for more details and
  examples.<br>
  </td>
  </tr>
  </tbody>
</table>

<br>
<a name="SelectionHighlighter">
<h3>Additional Selection Highlighters</h3>
</a>
<table border="0" cellpadding="2" cellspacing="2" width="100%">
  <tbody>
  <tr>
  <td valign="top">Allows you to define additional ways to highlight the selected piece on a map. &nbsp;The additional
  highlighters are drawn only if the selected piece matches the specified properties. &nbsp;If a piece matches the
  properties of more than one highlighter, all will be drawn, in addition to the highlighting color/border specified in
  the Map's properties.<br>
  <br>
  To add an Additional Selection Highlighter to your map, locate the <i>[Additional Selection Highlighters]</i>
  subcomponent of your map in the Editor. Right-click it and select <i>Add Highlighter</i>. You can then configure your
  Highlighter using the dialog described below.
  <br>
  <br>
  <b>Name:</b>&nbsp; A short name for reference in the editor.<br>
  <br>
  <b>Active if Properties Match:</b>&nbsp; The highlighter will be drawn for&nbsp;all pieces on the map that match the
  given <a href="PropertyMatchExpression.htm">Property Match Expression</a>. The expression can refer to <a
    href="Properties.htm">Properties</a> of the pieces to determine which ones are an appropriate match.<br>
  <br>
  <b>Use Image:</b>&nbsp; Specify an optional image to be overlaid on top of the selected piece. &nbsp;The center of the
  image will be offset from the center of the piece by the given number of pixels.<br>
  <br>
  <b>Border Color:</b>&nbsp; The color of the border to be drawn around selected pieces.<br>
  <br>
  <b>Border thickness:</b>&nbsp; The thickness of the border<br>
  </td>
  <td valign="top"><br>
  <img alt="" src="images/SelectionHighlighterFind.png"><br><br>
  <img alt="" src="images/SelectionHighlighter.png"></td><br>
  </td>
  </tr>
  <tr>
  </tr>

  </tbody>
</table>
<br>
<br>
<br>
</body>
</html>
