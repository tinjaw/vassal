<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <title>Message Format</title>
  <meta http-equiv="content-type" content="text/html; charset=ISO-8859-1">
</head>
<body>
<table cellpadding="2" cellspacing="2" border="0" width="100%">
  <tbody>
  <tr align="center">
  <td valign="top">
  <h1>VASSAL Reference Manual</h1>
  <small><a href="index.htm">Home</a> &gt; <b>&nbsp;Message Format</b></small><br>
  <br>
  </td>
  </tr>
  <tr>
  <td valign="top">
  <hr width="100%" size="2">
  <h2>Message Format<br></h2>
  <table cellpadding="2" cellspacing="2" border="0" width="100%">
    <tbody>
    <tr>
    <td valign="top">
    <img src="images/ReportFormat.png" title="" alt=""><br>
    <br>
    <img src="images/MessageFormatHTML.png" title="" alt=""><br>
    <br>
    A Message Format allows you to format the text messages that are generated by VASSAL during play.&nbsp; It is
    essentially a text message, except that the values of <a href="Properties.htm">Properties</a> can be substituted
    into the message. Any word surrounded by $ characters (e.g. $CurrentMap$) substitutes the value of the named
    Property in place of the $..$ name. The value is taken during play at the time the message is generated.<br>
    <br>
    Click on the <i>Insert</i> drop-down menu for a list of available Properties. Selecting one of the Properties from
    the menu will insert it at the current cursor position.<br>
    <br>

    <h3>Quick Colors</h3>
    VASSAL provides several "quick color" shortcuts to allow colored text to be put into the chat log by <a
      href="ReportChanges.htm">Report Action</a> traits and other <a href="MessageFormat.htm">Message Formats</a>. This
    is done by placing a special character as the first character of a message. The special first character, if any,
    will be removed automatically from the message when it is displayed. Each of these characters activates one of the
    five chat log colors from the Chat Preferences tab; default colors are provided but players are allowed to
    reconfigure the colors as they wish.<br>
    <br>
    <i>EXAMPLE:</i> If a <a href="ReportChanges.htm">Report Action</a> trait's message said <i>Hello World.</i> and you
    wanted to change the text to green, you could simply change the message text to <i>!Hello World.</i> The exclamation
    point would be automatically removed, and the message would appear as <span style="color:#009933;">Hello World.</span>
    <br>
    <br>
    <table border="0" cellpadding="2" cellspacing="2" width="100%">
      <tr>
      <td><b>First Character</b></td>
      <td><b>Name</b></td>
      <td><b>Color</b></td>
      </tr>
      <tr>
      <td>none or "|"</td>
      <td>vertical separator</td>
      <td>defaults to black text</td>
      </tr>
      <tr>
      <td>"!"</td>
      <td>exclamation point</td>
      <td><span style="color:#009933;">defaults to green text</span></td>
      </tr>
      <tr>
      <td>"?"</td>
      <td>question mark</td>
      <td><span style="color:#ff6666;">defaults to pink text</span></td>
      </tr>
      <tr>
      <td>"~"</td>
      <td>tilde</td>
      <td><span style="color:red;">defaults to red text</span></td>
      </tr>
      <tr>
      <td>"`"</td>
      <td>back apostrophe</td>
      <td><span style="color:#990099;">defaults to purple text</span></td>
      </tr>
    </table>

    </td>
    <td valign="top" style="text-align:center;">  
    <img src="images/ChatLog.png">
    <div style="text-align:center; font-size:12px; padding-top:4px">
      <a href="ReportChanges.htm">Reports</a> displayed in <a href="ChatLog.htm">Chat Log</a>
    </div>
    <br>

    </td>
    </tr>
    <tr>
    <td valign="top">

    <h3>HTML in Chat Log</h3>
    VASSAL's chat log now supports HTML as well as regular text, as long you turn on the proper <a
      href="GlobalOptions.htm">Global Options</a> setting (this is to maintain compatibility with modules created with
    earlier versions of VASSAL that did not account for such support). To turn on HTML support for your module, in the
    Editor window navigate to the <i>[Global Options]</i> component and open its <i>properties</i> dialog. Find the <i>
    Enable HTML support in Chat Log</i> option (see illustration at right) and set it to <i>Always</i>. Any message with
    a "Quick Colors" first character, including "|" will also parse HTML regardless of the Global Options setting. <br>
    <br>
    With HTML support enabled, you can include many types of HTML tags in your <a href="ReportChanges.htm">Report Action
    </a> traits and other <a href="MessageFormat.htm">Message Formats</a>. This opens up even more possibilities than
    the Quick Colors shortcuts and allows you to create an unlimited number of new styles.<br>
    <br>
    <table border="0" cellpadding="2" cellspacing="2" width="100%">
      <tr>
      <td><b>Tags</b></td>
      <td><b>Results</b></td>
      </tr>
      <tr>
      <td>&lt;b&gt;bold text&lt;/b&gt;</td>
      <td><b>bold text</b></td>
      </tr>
      <tr>
      <td>&lt;i&gt;italic text&lt;/i&gt;</td>
      <td><i>italic text</i></td>
      </tr>
      <tr>
      <td>&lt;u&gt;underscore text&lt;/u&gt;</td>
      <td><u>underscore text</u></td>
      </tr>
      <tr>
      <td>&lt;span style="color:blue;"&gt;blue text&lt;/span&gt;</td>
      <td><span style="color:blue;">blue text</span></td>
      </tr>
      <tr>
      <td>&lt;span style="color:#ff6666;"&gt;hex color text&lt;/span&gt;</td>
      <td><span style="color:#ff6666;">hex color text</span></td>
      </tr>
      <tr>
      <td>&lt;img src="d6-6-grey.png" width=14 height=14&gt; dice image</td>
      <td><img src="images\d6-6-grey.png" width=14 height=14>dice image</td>
      </tr>
    </table>
    <br>
    <h3>Properties available in Message Format</h3>
    Available Properties will vary depending on the component being configured. Some commonly-used Properties are:
    <br>
    <br>
    <i>$playerName$</i> is the player's name as specified in the Preferences. Note that this is the name of the player
    running the current session "on this computer", not e.g. the name of the player who owns a particular piece.<br><br>
    <i>$playerSide$</i> is the side chosen by the player from the <a href="GameModule.htm#Definition_of_Player_Sides">
    Definition of Available Sides</a><br><br>
    <i>$playerId$</i> is a combination of playerName and playerSide specified in the <a
      href="GameModule.htm#GlobalOptions">Global Options</a><br>
    <br>
    <i>$<a href="GlobalProperties.htm">Global Property</a>$</i> names can also be referenced.<br>
    <br>
    <i>$result1$</i>, etc, from the roll of a <a href="SpecialDiceButton.htm">Symbolic Dice Button</a> can also be
    checked.<br>
    <br>
    <i>$<a href="Properties.htm">Properties</a>$</i> of a Game Piece can be referenced when a Message Format is used in
    conjunction with a particular Game Piece. See the Properties article <a href="Properties.htm">for a handy list of
    properties associated with pieces</a>.
    <br>
    <br>
    <b>SEE ALSO:</b> <a href="ChatLog.htm">Chat Log</a>, <a href="ReportChanges.htm">Report Action</a>, <a
      href="Label.htm">Text Label</a>

    </td>

    <td valign="top">

    <img src="images/GlobalOptionsHTML.png">
    <div style="text-align:center; font-size:12px; padding-top:4px">
      Enabling <a href="ChatLog.htm">Chat Log</a> HTML Support in <a href="GlobalOptions.htm">Global Options</a>
    </div>
    <br>

    </td>

    </tr>
    </tbody>
  </table>

  </td>
  </tr>
  </tbody>
</table>
<br>
</body>
</html>
