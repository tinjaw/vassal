<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <title>Report Changes</title>
  <meta http-equiv="content-type" content="text/html; charset=ISO-8859-1">
</head>
<body>
<table border="0" cellpadding="2" cellspacing="2" width="100%">
  <tbody>
  <tr align="center">
  <td valign="top">
  <h1>VASSAL Reference Manual</h1>
  <small><a href="index.htm">Home</a> &gt; <a href="GameModule.htm">Module</a>
  &gt; <a href="PieceWindow.htm">Game Piece Palette</a></small> <small>&gt;<b>
  </b><a href="GamePiece.htm">Game Piece</a></small> <small>&gt; <b>Report Action</b></small><br>
  </td>
  </tr>
  <tr>
  <td valign="top">
  <hr size="2" width="100%">
  <h2>Report Action</h2>
  <table border="0" cellpadding="2" cellspacing="2" width="100%">
    <tbody>
    <tr>
    <td valign="top">A Game Piece with this trait will report a configurable message to the <a href="ChatLog.htm">Chat
    Log</a> in the main window when any of a given set of Key Commands or <a href="NamedKeyCommand.htm">Named Key
    Commands</a> are either typed or activated by other traits.<br>
    <br>
    <b>Report on these keystrokes:</b>&nbsp; Specifies the key commands or <a href="NamedKeyCommand.htm">Named Key
    Commands</a> that this trait will respond to. Hit the <i>Add</i> button to specify more than one key command.
    <br>
    <br>
    <b>Cycle through different messages:&nbsp;</b> If left unchecked, the same message will be reported whenever any of
    the above key commands are received. If checked, the message to be reported will cycle through the list specified
    below. Each time one of the key commands is received, the next message in the list will be reported, returning to
    the beginning after the end is reached. <br>
    <br>
    <b>Report Format:&nbsp;</b> The <a href="MessageFormat.htm">Message Format</a>
    for the message that will appear in the <a href="ChatLog.htm">Chat Log</a>. <br>
    <br>
    <div style="margin-left:5%;">
      <b>Enhanced Chat Log:</b>&nbsp; Note that the Chat Log now supports <b>bold text</b>, <i>italicized text</i>, <b>
      <span style="color:#ff0000;">and even colored text</span></b> and <img src="images/ChatLogDice.png">. See the <a
        href="ChatLog.htm">Chat Log</a> article for full details. <br>
    </div>
    <br>
    <div style="margin-left:5%;">
      <b>Additional Properties</b>:&nbsp; <i>$menuCommand$</i>
      inserts the name of the piece's right-click context menu command that corresponds to the key command received, <i>
      $oldPieceName$</i>
      is the name of the piece before the action is applied, <i>$newPieceName$</i> is the name of the piece after the
      action is applied, <i>$mapName$</i>is the name of the map where the piece is located, <i>$oldMapName$</i> is the
      name of the map before the action, <i>$location$</i> is the map location where the piece is located, <i>
      $oldLocation$</i>
      is the location before the action is applied. <i>Note:</i> if a piece is deleted or replaced as the result of an
      action, then the value of <i>oldLocation</i> and 
      <i>oldMapName</i> will depend on the order of the traits, while <i>mapName</i>
      and <i>location</i> will be blank.<br>
    </div>
    <br>
    <b>Message Formats:</b>&nbsp; A list of <a href="MessageFormat.htm">Message Formats</a> for cycling messages.
    Available properties are the same as above. Any <a href="Properties.htm">
    Properties</a> defined on the piece will be substituted. To access the value of a Property before the change, add 
    <i>old</i> to the name. For example, if a piece has a property <i>hitPoints,</i> then <i>$hitPoints$</i> gives the
    value after the key command and <i>$oldhitPoints$</i>
    gives the value before.<br>
    <br>
    <b>Report previous on these keystrokes:</b>&nbsp; When any of these key commands are received, the message reported
    will be the one the precedes the last reported message, instead of the following one.
    <br>
    <br>
    <b>Troubleshooting:</b> (If a Report Action trait doesn't seem to be showing a message)
    <ol>
      <li>Check to make sure that the <a href="Map.htm">Map</a> where the piece is located has its <i>Auto-report format
        for units modified on this map</i>
        field set to include the string $message$ since otherwise Report Action traits will not generate messages for
        pieces on that map.</li>
      <br>
      <li>If the Report Action trait is activated by a <a href="GlobalKeyCommand.htm">Global Key Command</a>, then it
        will only generate a message if the Global Key Command's <i>Suppress individual reports</i> field is not
        checked.
    </ol>
    <b>EXAMPLE:</b>&nbsp; A unit named "Infantry" has a single Layer trait that is activated with a <nobr>Ctrl+F</nobr>
    "Flip" command. By adding a Report Action trait with report key <nobr>Ctrl+F</nobr> and message <i>
    $newPieceName$ flips in $location$</i>
    the chat text will echo "Infantry flips in A9" whenever a player flips the unit.<br>
    <br>
    <b>EXAMPLE:</b>&nbsp; If the unit above has the <a href="Hideable.htm">Invisible</a> trait activated by <nobr>Ctrl+I
    </nobr>, then an additional Report Action trait with report key <nobr>Ctrl+I</nobr> and two cycling messages <i>
    $oldPieceName$ goes invisible in $location$</i> and 
    <i>$newPieceName$ revealed in $location$</i> will report when the unit becomes invisible/revealed.<br>
    <br>
    <b>EXAMPLE:</b>&nbsp; If the counter above has the <a href="Rotate.htm">Can Rotate
    </a> trait with 4 facings controlled by <nobr>Ctrl+]</nobr> and <nobr>Ctrl+[</nobr>, then an addition Report Action
    trait with report key <nobr>Ctrl+]</nobr>
    and report-previous key <nobr>Ctrl+[</nobr> and cycling messages <i>$newPieceName$ rotates to face North</i>, etc.,
    will automatically report the appropriate facing. <br>
    </td>
    <td valign="top">
    <img alt="" src="images/ReportChanges.png"><br>
    <div style="text-align:center; font-size:12px; padding-top:4px">
      Simple Report, Single Message
    </div>
    <br>
    <br>
    <img alt="" src="images/ReportChanges2.png"><br>
    <div style="text-align:center; font-size:12px; padding-top:4px">
      Adding Multiple Cycling Messages
    </div>
    <br>
    <br>
    <img alt="" src="images/ReportChanges3.png"><br>
    <div style="text-align:center; font-size:12px; padding-top:4px">
      <b>Bold</b>, <i>Italicized</i>, and <span style="color:#ff6666;">Colored</span> text are <a href="ChatLog.htm">
      supported</a>.
    </div>
    <br>
    </td>
    </tr>
    </tbody>
  </table>
  <br>
  <b>SEE ALSO:</b> <a href="ChatLog.htm">Chat Log</a>
  <hr size="2" width="100%"></td>
  </tr>
  </tbody>
</table>
</body>
</html>
